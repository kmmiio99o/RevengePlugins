(function(i,p,u,r,a,s,f,l){"use strict";const{ScrollView:g}=u.findByProps("ScrollView"),{TableRowGroup:c,TableRow:d,Stack:b}=u.findByProps("TableSwitchRow","TableCheckboxRow","TableRowGroup","Stack","TableRow"),m=u.findByProps("getAPIBaseURL","get","post","del"),y=[{id:1,name:"Bravery"},{id:2,name:"Brilliance"},{id:3,name:"Balance"},{id:0,name:"Remove Badge",description:"Remove your HypeSquad badge"}];function h(e,t){return e==="POST"?m.post({url:"/hypesquad/online",body:t}):m.del({url:"/hypesquad/online"})}async function B(e){if(![0,1,2,3].includes(e)){r.showToast("Only 0-3 allowed",l.getAssetIDByName("Small"));return}try{if(e===0){const o=await h("DELETE"),E=o&&(o.status===204||o.ok);r.showToast(E?"HypeSquad badge removed":`Failed: ${o?.status??"unknown"}`,l.getAssetIDByName(E?"Check":"Small"));return}const t=y.find(function(o){return o.id===e}),n=await h("POST",{house_id:e}),T=n&&(n.status===204||n.ok);r.showToast(T?`Joined House ${t?.name}!`:`Failed: ${n?.status??"unknown"}`,l.getAssetIDByName(T?"Check":"Small"))}catch(t){r.showToast(`Error: ${t?.message??String(t)}`,l.getAssetIDByName("Small"))}}function C(){f.useProxy(s.storage);const e=a.NavigationNative.useNavigation();return a.React.createElement(g,{style:{flex:1},contentContainerStyle:{padding:10}},a.React.createElement(b,{spacing:8},a.React.createElement(c,{title:"Choose Your House"},y.map(function(t){return a.React.createElement(d,{key:t.id,label:t.name,subLabel:t.description,onPress:function(){s.storage.hsValue=t.id,B(t.id),e.goBack()}})}))))}function P(){f.useProxy(s.storage);const e=a.NavigationNative.useNavigation(),t=y.find(function(n){return n.id===s.storage.hsValue});return a.React.createElement(g,{style:{flex:1},contentContainerStyle:{padding:10}},a.React.createElement(b,{spacing:8},a.React.createElement(c,{title:"HypeSquad"},a.React.createElement(d,{label:"Current House",subLabel:t?t.description:"No house selected",trailing:a.React.createElement(d.Arrow,null),onPress:function(){return e.push("VendettaCustomPage",{title:"Select House",render:C})}})),a.React.createElement(c,{title:"Information"},a.React.createElement(d,{label:"How to Change",subLabel:"Tap 'Current House' above to select a different house or remove your badge"}))))}const v=u.findByProps("getAPIBaseURL","get","post","del");function w(e,t){return e==="POST"?v.post({url:"/hypesquad/online",body:t}):v.del({url:"/hypesquad/online"})}async function q(e){const t=e?.type??e?.[0]?.value??e?.[0]??e,n=Number(t);if(!Number.isInteger(n)||![0,1,2,3].includes(n)){r.showToast("Use 0, 1, 2, 3");return}try{if(n===0){await w("DELETE"),r.showToast("HypeSquad removed");return}await w("POST",{house_id:n}),r.showToast(`HypeSquad set to ${{1:"Bravery",2:"Brilliance",3:"Balance"}[n]}`)}catch{r.showToast("Request failed")}}const S=function(){p.registerCommand({name:"hypesquad",description:"Apply or remove your HypeSquad badge",options:[{name:"type",description:"0 remove | 1 bravery | 2 brilliance | 3 balance",type:4,required:!0}],execute:function(e){return q(e)}})},R=function(){return p.unregisterAllCommands()};var N={onLoad(){S()},onUnload(){R()},settings:P};return i.default=N,i.loadCommands=S,i.unloadCommands=R,Object.defineProperty(i,"__esModule",{value:!0}),i})({},vendetta.commands,vendetta.metro,vendetta.ui.toasts,vendetta.metro.common,vendetta.plugin,vendetta.storage,vendetta.ui.assets);
