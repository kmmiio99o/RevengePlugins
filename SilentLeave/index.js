(function(n,t,a,e){"use strict";const c=a.findByProps("getChannel"),l=a.findByProps("getToken").getToken,r=function(){t.registerCommand({name:"leave",description:"Leave the current Group DM silently",options:[],execute:function(f,m){const d=m?.channel?.id,i=c.getChannel(d);if(!i||i.type!==3){e.showToast("This command works only in Group DMs.");return}const u=l();if(!u){e.showToast("Failed to get token.");return}fetch(`https://discord.com/api/v9/channels/${d}?silent=true`,{method:"DELETE",headers:{Authorization:u,"User-Agent":"Discord-Android/305012;RNA","Accept-Encoding":"gzip"}}).then(function(o){o.ok?e.showToast("Left Group DM successfully."):e.showToast(`Failed to leave Group DM: ${o.status}`)}).catch(function(o){return e.showToast(`Error: ${o.message}`)})}})},s=function(){return t.unregisterAllCommands()};var h={onLoad(){r()},onunload(){s()}};return n.default=h,n.loadCommands=r,n.unloadCommands=s,Object.defineProperty(n,"__esModule",{value:!0}),n})({},vendetta.commands,vendetta.metro,vendetta.ui.toasts);
